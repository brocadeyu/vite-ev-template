/**
 * @license
 * Cesium - https://github.com/CesiumGS/cesium
 * Version 1.96
 *
 * Copyright 2011-2022 Cesium Contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * Columbus View (Pat. Pend.)
 *
 * Portions licensed separately.
 * See https://github.com/CesiumGS/cesium/blob/main/LICENSE.md for full licensing details.
 */
define(["exports","./Check-d82b20f7","./defaultValue-4607806f","./DeveloperError-46384437","./Math-6bc63320","./Cartesian3-2da9bb0a","./RuntimeError-3a10ce13"],(function(n,t,e,r,a,u,i){"use strict";function o(n,t){this.x=e.defaultValue(n,0),this.y=e.defaultValue(t,0)}o.fromElements=function(n,t,r){return e.defined(r)?(r.x=n,r.y=t,r):new o(n,t)},o.clone=function(n,t){if(e.defined(n))return e.defined(t)?(t.x=n.x,t.y=n.y,t):new o(n.x,n.y)},o.fromCartesian3=o.clone,o.fromCartesian4=o.clone,o.packedLength=2,o.pack=function(n,t,r){return r=e.defaultValue(r,0),t[r++]=n.x,t[r]=n.y,t},o.unpack=function(n,t,r){return t=e.defaultValue(t,0),e.defined(r)||(r=new o),r.x=n[t++],r.y=n[t],r},o.packArray=function(n,t){const r=n.length,a=2*r;e.defined(t)?(Array.isArray(t)||t.length===a)&&t.length!==a&&(t.length=a):t=new Array(a);for(let e=0;e<r;++e)o.pack(n[e],t,2*e);return t},o.unpackArray=function(n,t){const r=n.length;e.defined(t)?t.length=r/2:t=new Array(r/2);for(let e=0;e<r;e+=2){const r=e/2;t[r]=o.unpack(n,e,t[r])}return t},o.fromArray=o.unpack,o.maximumComponent=function(n){return Math.max(n.x,n.y)},o.minimumComponent=function(n){return Math.min(n.x,n.y)},o.minimumByComponent=function(n,t,e){return e.x=Math.min(n.x,t.x),e.y=Math.min(n.y,t.y),e},o.maximumByComponent=function(n,t,e){return e.x=Math.max(n.x,t.x),e.y=Math.max(n.y,t.y),e},o.clamp=function(n,t,e,r){const u=a.CesiumMath.clamp(n.x,t.x,e.x),i=a.CesiumMath.clamp(n.y,t.y,e.y);return r.x=u,r.y=i,r},o.magnitudeSquared=function(n){return n.x*n.x+n.y*n.y},o.magnitude=function(n){return Math.sqrt(o.magnitudeSquared(n))};const c=new o;o.distance=function(n,t){return o.subtract(n,t,c),o.magnitude(c)},o.distanceSquared=function(n,t){return o.subtract(n,t,c),o.magnitudeSquared(c)},o.normalize=function(n,t){const e=o.magnitude(n);return t.x=n.x/e,t.y=n.y/e,t},o.dot=function(n,t){return n.x*t.x+n.y*t.y},o.cross=function(n,t){return n.x*t.y-n.y*t.x},o.multiplyComponents=function(n,t,e){return e.x=n.x*t.x,e.y=n.y*t.y,e},o.divideComponents=function(n,t,e){return e.x=n.x/t.x,e.y=n.y/t.y,e},o.add=function(n,t,e){return e.x=n.x+t.x,e.y=n.y+t.y,e},o.subtract=function(n,t,e){return e.x=n.x-t.x,e.y=n.y-t.y,e},o.multiplyByScalar=function(n,t,e){return e.x=n.x*t,e.y=n.y*t,e},o.divideByScalar=function(n,t,e){return e.x=n.x/t,e.y=n.y/t,e},o.negate=function(n,t){return t.x=-n.x,t.y=-n.y,t},o.abs=function(n,t){return t.x=Math.abs(n.x),t.y=Math.abs(n.y),t};const s=new o;o.lerp=function(n,t,e,r){return o.multiplyByScalar(t,e,s),r=o.multiplyByScalar(n,1-e,r),o.add(s,r,r)};const l=new o,f=new o;o.angleBetween=function(n,t){return o.normalize(n,l),o.normalize(t,f),a.CesiumMath.acosClamped(o.dot(l,f))};const y=new o;function d(n,t,r,a){this.x=e.defaultValue(n,0),this.y=e.defaultValue(t,0),this.z=e.defaultValue(r,0),this.w=e.defaultValue(a,0)}o.mostOrthogonalAxis=function(n,t){const e=o.normalize(n,y);return o.abs(e,e),t=e.x<=e.y?o.clone(o.UNIT_X,t):o.clone(o.UNIT_Y,t)},o.equals=function(n,t){return n===t||e.defined(n)&&e.defined(t)&&n.x===t.x&&n.y===t.y},o.equalsArray=function(n,t,e){return n.x===t[e]&&n.y===t[e+1]},o.equalsEpsilon=function(n,t,r,u){return n===t||e.defined(n)&&e.defined(t)&&a.CesiumMath.equalsEpsilon(n.x,t.x,r,u)&&a.CesiumMath.equalsEpsilon(n.y,t.y,r,u)},o.ZERO=Object.freeze(new o(0,0)),o.ONE=Object.freeze(new o(1,1)),o.UNIT_X=Object.freeze(new o(1,0)),o.UNIT_Y=Object.freeze(new o(0,1)),o.prototype.clone=function(n){return o.clone(this,n)},o.prototype.equals=function(n){return o.equals(this,n)},o.prototype.equalsEpsilon=function(n,t,e){return o.equalsEpsilon(this,n,t,e)},o.prototype.toString=function(){return`(${this.x}, ${this.y})`},d.fromElements=function(n,t,r,a,u){return e.defined(u)?(u.x=n,u.y=t,u.z=r,u.w=a,u):new d(n,t,r,a)},d.fromColor=function(n,t){return e.defined(t)?(t.x=n.red,t.y=n.green,t.z=n.blue,t.w=n.alpha,t):new d(n.red,n.green,n.blue,n.alpha)},d.clone=function(n,t){if(e.defined(n))return e.defined(t)?(t.x=n.x,t.y=n.y,t.z=n.z,t.w=n.w,t):new d(n.x,n.y,n.z,n.w)},d.packedLength=4,d.pack=function(n,t,r){return r=e.defaultValue(r,0),t[r++]=n.x,t[r++]=n.y,t[r++]=n.z,t[r]=n.w,t},d.unpack=function(n,t,r){return t=e.defaultValue(t,0),e.defined(r)||(r=new d),r.x=n[t++],r.y=n[t++],r.z=n[t++],r.w=n[t],r},d.packArray=function(n,t){const r=n.length,a=4*r;e.defined(t)?(Array.isArray(t)||t.length===a)&&t.length!==a&&(t.length=a):t=new Array(a);for(let e=0;e<r;++e)d.pack(n[e],t,4*e);return t},d.unpackArray=function(n,t){const r=n.length;e.defined(t)?t.length=r/4:t=new Array(r/4);for(let e=0;e<r;e+=4){const r=e/4;t[r]=d.unpack(n,e,t[r])}return t},d.fromArray=d.unpack,d.maximumComponent=function(n){return Math.max(n.x,n.y,n.z,n.w)},d.minimumComponent=function(n){return Math.min(n.x,n.y,n.z,n.w)},d.minimumByComponent=function(n,t,e){return e.x=Math.min(n.x,t.x),e.y=Math.min(n.y,t.y),e.z=Math.min(n.z,t.z),e.w=Math.min(n.w,t.w),e},d.maximumByComponent=function(n,t,e){return e.x=Math.max(n.x,t.x),e.y=Math.max(n.y,t.y),e.z=Math.max(n.z,t.z),e.w=Math.max(n.w,t.w),e},d.clamp=function(n,t,e,r){const u=a.CesiumMath.clamp(n.x,t.x,e.x),i=a.CesiumMath.clamp(n.y,t.y,e.y),o=a.CesiumMath.clamp(n.z,t.z,e.z),c=a.CesiumMath.clamp(n.w,t.w,e.w);return r.x=u,r.y=i,r.z=o,r.w=c,r},d.magnitudeSquared=function(n){return n.x*n.x+n.y*n.y+n.z*n.z+n.w*n.w},d.magnitude=function(n){return Math.sqrt(d.magnitudeSquared(n))};const m=new d;d.distance=function(n,t){return d.subtract(n,t,m),d.magnitude(m)},d.distanceSquared=function(n,t){return d.subtract(n,t,m),d.magnitudeSquared(m)},d.normalize=function(n,t){const e=d.magnitude(n);return t.x=n.x/e,t.y=n.y/e,t.z=n.z/e,t.w=n.w/e,t},d.dot=function(n,t){return n.x*t.x+n.y*t.y+n.z*t.z+n.w*t.w},d.multiplyComponents=function(n,t,e){return e.x=n.x*t.x,e.y=n.y*t.y,e.z=n.z*t.z,e.w=n.w*t.w,e},d.divideComponents=function(n,t,e){return e.x=n.x/t.x,e.y=n.y/t.y,e.z=n.z/t.z,e.w=n.w/t.w,e},d.add=function(n,t,e){return e.x=n.x+t.x,e.y=n.y+t.y,e.z=n.z+t.z,e.w=n.w+t.w,e},d.subtract=function(n,t,e){return e.x=n.x-t.x,e.y=n.y-t.y,e.z=n.z-t.z,e.w=n.w-t.w,e},d.multiplyByScalar=function(n,t,e){return e.x=n.x*t,e.y=n.y*t,e.z=n.z*t,e.w=n.w*t,e},d.divideByScalar=function(n,t,e){return e.x=n.x/t,e.y=n.y/t,e.z=n.z/t,e.w=n.w/t,e},d.negate=function(n,t){return t.x=-n.x,t.y=-n.y,t.z=-n.z,t.w=-n.w,t},d.abs=function(n,t){return t.x=Math.abs(n.x),t.y=Math.abs(n.y),t.z=Math.abs(n.z),t.w=Math.abs(n.w),t};const h=new d;d.lerp=function(n,t,e,r){return d.multiplyByScalar(t,e,h),r=d.multiplyByScalar(n,1-e,r),d.add(h,r,r)};const x=new d;d.mostOrthogonalAxis=function(n,t){const e=d.normalize(n,x);return d.abs(e,e),t=e.x<=e.y?e.x<=e.z?e.x<=e.w?d.clone(d.UNIT_X,t):d.clone(d.UNIT_W,t):e.z<=e.w?d.clone(d.UNIT_Z,t):d.clone(d.UNIT_W,t):e.y<=e.z?e.y<=e.w?d.clone(d.UNIT_Y,t):d.clone(d.UNIT_W,t):e.z<=e.w?d.clone(d.UNIT_Z,t):d.clone(d.UNIT_W,t)},d.equals=function(n,t){return n===t||e.defined(n)&&e.defined(t)&&n.x===t.x&&n.y===t.y&&n.z===t.z&&n.w===t.w},d.equalsArray=function(n,t,e){return n.x===t[e]&&n.y===t[e+1]&&n.z===t[e+2]&&n.w===t[e+3]},d.equalsEpsilon=function(n,t,r,u){return n===t||e.defined(n)&&e.defined(t)&&a.CesiumMath.equalsEpsilon(n.x,t.x,r,u)&&a.CesiumMath.equalsEpsilon(n.y,t.y,r,u)&&a.CesiumMath.equalsEpsilon(n.z,t.z,r,u)&&a.CesiumMath.equalsEpsilon(n.w,t.w,r,u)},d.ZERO=Object.freeze(new d(0,0,0,0)),d.ONE=Object.freeze(new d(1,1,1,1)),d.UNIT_X=Object.freeze(new d(1,0,0,0)),d.UNIT_Y=Object.freeze(new d(0,1,0,0)),d.UNIT_Z=Object.freeze(new d(0,0,1,0)),d.UNIT_W=Object.freeze(new d(0,0,0,1)),d.prototype.clone=function(n){return d.clone(this,n)},d.prototype.equals=function(n){return d.equals(this,n)},d.prototype.equalsEpsilon=function(n,t,e){return d.equalsEpsilon(this,n,t,e)},d.prototype.toString=function(){return`(${this.x}, ${this.y}, ${this.z}, ${this.w})`};const w=new Float32Array(1),p=new Uint8Array(w.buffer),z=new Uint32Array([287454020]),M=68===new Uint8Array(z.buffer)[0];function C(n,t,r,a,u,i,o,c,s){this[0]=e.defaultValue(n,0),this[1]=e.defaultValue(a,0),this[2]=e.defaultValue(o,0),this[3]=e.defaultValue(t,0),this[4]=e.defaultValue(u,0),this[5]=e.defaultValue(c,0),this[6]=e.defaultValue(r,0),this[7]=e.defaultValue(i,0),this[8]=e.defaultValue(s,0)}d.packFloat=function(n,t){return e.defined(t)||(t=new d),w[0]=n,M?(t.x=p[0],t.y=p[1],t.z=p[2],t.w=p[3]):(t.x=p[3],t.y=p[2],t.z=p[1],t.w=p[0]),t},d.unpackFloat=function(n){return M?(p[0]=n.x,p[1]=n.y,p[2]=n.z,p[3]=n.w):(p[0]=n.w,p[1]=n.z,p[2]=n.y,p[3]=n.x),w[0]},C.packedLength=9,C.pack=function(n,t,r){return r=e.defaultValue(r,0),t[r++]=n[0],t[r++]=n[1],t[r++]=n[2],t[r++]=n[3],t[r++]=n[4],t[r++]=n[5],t[r++]=n[6],t[r++]=n[7],t[r++]=n[8],t},C.unpack=function(n,t,r){return t=e.defaultValue(t,0),e.defined(r)||(r=new C),r[0]=n[t++],r[1]=n[t++],r[2]=n[t++],r[3]=n[t++],r[4]=n[t++],r[5]=n[t++],r[6]=n[t++],r[7]=n[t++],r[8]=n[t++],r},C.packArray=function(n,t){const r=n.length,a=9*r;e.defined(t)?(Array.isArray(t)||t.length===a)&&t.length!==a&&(t.length=a):t=new Array(a);for(let e=0;e<r;++e)C.pack(n[e],t,9*e);return t},C.unpackArray=function(n,t){const r=n.length;e.defined(t)?t.length=r/9:t=new Array(r/9);for(let e=0;e<r;e+=9){const r=e/9;t[r]=C.unpack(n,e,t[r])}return t},C.clone=function(n,t){if(e.defined(n))return e.defined(t)?(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t):new C(n[0],n[3],n[6],n[1],n[4],n[7],n[2],n[5],n[8])},C.fromArray=C.unpack,C.fromColumnMajorArray=function(n,t){return C.clone(n,t)},C.fromRowMajorArray=function(n,t){return e.defined(t)?(t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8],t):new C(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8])},C.fromQuaternion=function(n,t){const r=n.x*n.x,a=n.x*n.y,u=n.x*n.z,i=n.x*n.w,o=n.y*n.y,c=n.y*n.z,s=n.y*n.w,l=n.z*n.z,f=n.z*n.w,y=n.w*n.w,d=r-o-l+y,m=2*(a-f),h=2*(u+s),x=2*(a+f),w=-r+o-l+y,p=2*(c-i),z=2*(u-s),M=2*(c+i),g=-r-o+l+y;return e.defined(t)?(t[0]=d,t[1]=x,t[2]=z,t[3]=m,t[4]=w,t[5]=M,t[6]=h,t[7]=p,t[8]=g,t):new C(d,m,h,x,w,p,z,M,g)},C.fromHeadingPitchRoll=function(n,t){const r=Math.cos(-n.pitch),a=Math.cos(-n.heading),u=Math.cos(n.roll),i=Math.sin(-n.pitch),o=Math.sin(-n.heading),c=Math.sin(n.roll),s=r*a,l=-u*o+c*i*a,f=c*o+u*i*a,y=r*o,d=u*a+c*i*o,m=-c*a+u*i*o,h=-i,x=c*r,w=u*r;return e.defined(t)?(t[0]=s,t[1]=y,t[2]=h,t[3]=l,t[4]=d,t[5]=x,t[6]=f,t[7]=m,t[8]=w,t):new C(s,l,f,y,d,m,h,x,w)},C.fromScale=function(n,t){return e.defined(t)?(t[0]=n.x,t[1]=0,t[2]=0,t[3]=0,t[4]=n.y,t[5]=0,t[6]=0,t[7]=0,t[8]=n.z,t):new C(n.x,0,0,0,n.y,0,0,0,n.z)},C.fromUniformScale=function(n,t){return e.defined(t)?(t[0]=n,t[1]=0,t[2]=0,t[3]=0,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=n,t):new C(n,0,0,0,n,0,0,0,n)},C.fromCrossProduct=function(n,t){return e.defined(t)?(t[0]=0,t[1]=n.z,t[2]=-n.y,t[3]=-n.z,t[4]=0,t[5]=n.x,t[6]=n.y,t[7]=-n.x,t[8]=0,t):new C(0,-n.z,n.y,n.z,0,-n.x,-n.y,n.x,0)},C.fromRotationX=function(n,t){const r=Math.cos(n),a=Math.sin(n);return e.defined(t)?(t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=r,t[5]=a,t[6]=0,t[7]=-a,t[8]=r,t):new C(1,0,0,0,r,-a,0,a,r)},C.fromRotationY=function(n,t){const r=Math.cos(n),a=Math.sin(n);return e.defined(t)?(t[0]=r,t[1]=0,t[2]=-a,t[3]=0,t[4]=1,t[5]=0,t[6]=a,t[7]=0,t[8]=r,t):new C(r,0,a,0,1,0,-a,0,r)},C.fromRotationZ=function(n,t){const r=Math.cos(n),a=Math.sin(n);return e.defined(t)?(t[0]=r,t[1]=a,t[2]=0,t[3]=-a,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t):new C(r,-a,0,a,r,0,0,0,1)},C.toArray=function(n,t){return e.defined(t)?(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t):[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8]]},C.getElementIndex=function(n,t){return 3*n+t},C.getColumn=function(n,t,e){const r=3*t,a=n[r],u=n[r+1],i=n[r+2];return e.x=a,e.y=u,e.z=i,e},C.setColumn=function(n,t,e,r){const a=3*t;return(r=C.clone(n,r))[a]=e.x,r[a+1]=e.y,r[a+2]=e.z,r},C.getRow=function(n,t,e){const r=n[t],a=n[t+3],u=n[t+6];return e.x=r,e.y=a,e.z=u,e},C.setRow=function(n,t,e,r){return(r=C.clone(n,r))[t]=e.x,r[t+3]=e.y,r[t+6]=e.z,r};const g=new u.Cartesian3;C.setScale=function(n,t,e){const r=C.getScale(n,g),a=t.x/r.x,u=t.y/r.y,i=t.z/r.z;return e[0]=n[0]*a,e[1]=n[1]*a,e[2]=n[2]*a,e[3]=n[3]*u,e[4]=n[4]*u,e[5]=n[5]*u,e[6]=n[6]*i,e[7]=n[7]*i,e[8]=n[8]*i,e};const b=new u.Cartesian3;C.setUniformScale=function(n,t,e){const r=C.getScale(n,b),a=t/r.x,u=t/r.y,i=t/r.z;return e[0]=n[0]*a,e[1]=n[1]*a,e[2]=n[2]*a,e[3]=n[3]*u,e[4]=n[4]*u,e[5]=n[5]*u,e[6]=n[6]*i,e[7]=n[7]*i,e[8]=n[8]*i,e};const O=new u.Cartesian3;C.getScale=function(n,t){return t.x=u.Cartesian3.magnitude(u.Cartesian3.fromElements(n[0],n[1],n[2],O)),t.y=u.Cartesian3.magnitude(u.Cartesian3.fromElements(n[3],n[4],n[5],O)),t.z=u.Cartesian3.magnitude(u.Cartesian3.fromElements(n[6],n[7],n[8],O)),t};const E=new u.Cartesian3;C.getMaximumScale=function(n){return C.getScale(n,E),u.Cartesian3.maximumComponent(E)};const V=new u.Cartesian3;C.setRotation=function(n,t,e){const r=C.getScale(n,V);return e[0]=t[0]*r.x,e[1]=t[1]*r.x,e[2]=t[2]*r.x,e[3]=t[3]*r.y,e[4]=t[4]*r.y,e[5]=t[5]*r.y,e[6]=t[6]*r.z,e[7]=t[7]*r.z,e[8]=t[8]*r.z,e};const S=new u.Cartesian3;C.getRotation=function(n,t){const e=C.getScale(n,S);return t[0]=n[0]/e.x,t[1]=n[1]/e.x,t[2]=n[2]/e.x,t[3]=n[3]/e.y,t[4]=n[4]/e.y,t[5]=n[5]/e.y,t[6]=n[6]/e.z,t[7]=n[7]/e.z,t[8]=n[8]/e.z,t},C.multiply=function(n,t,e){const r=n[0]*t[0]+n[3]*t[1]+n[6]*t[2],a=n[1]*t[0]+n[4]*t[1]+n[7]*t[2],u=n[2]*t[0]+n[5]*t[1]+n[8]*t[2],i=n[0]*t[3]+n[3]*t[4]+n[6]*t[5],o=n[1]*t[3]+n[4]*t[4]+n[7]*t[5],c=n[2]*t[3]+n[5]*t[4]+n[8]*t[5],s=n[0]*t[6]+n[3]*t[7]+n[6]*t[8],l=n[1]*t[6]+n[4]*t[7]+n[7]*t[8],f=n[2]*t[6]+n[5]*t[7]+n[8]*t[8];return e[0]=r,e[1]=a,e[2]=u,e[3]=i,e[4]=o,e[5]=c,e[6]=s,e[7]=l,e[8]=f,e},C.add=function(n,t,e){return e[0]=n[0]+t[0],e[1]=n[1]+t[1],e[2]=n[2]+t[2],e[3]=n[3]+t[3],e[4]=n[4]+t[4],e[5]=n[5]+t[5],e[6]=n[6]+t[6],e[7]=n[7]+t[7],e[8]=n[8]+t[8],e},C.subtract=function(n,t,e){return e[0]=n[0]-t[0],e[1]=n[1]-t[1],e[2]=n[2]-t[2],e[3]=n[3]-t[3],e[4]=n[4]-t[4],e[5]=n[5]-t[5],e[6]=n[6]-t[6],e[7]=n[7]-t[7],e[8]=n[8]-t[8],e},C.multiplyByVector=function(n,t,e){const r=t.x,a=t.y,u=t.z,i=n[0]*r+n[3]*a+n[6]*u,o=n[1]*r+n[4]*a+n[7]*u,c=n[2]*r+n[5]*a+n[8]*u;return e.x=i,e.y=o,e.z=c,e},C.multiplyByScalar=function(n,t,e){return e[0]=n[0]*t,e[1]=n[1]*t,e[2]=n[2]*t,e[3]=n[3]*t,e[4]=n[4]*t,e[5]=n[5]*t,e[6]=n[6]*t,e[7]=n[7]*t,e[8]=n[8]*t,e},C.multiplyByScale=function(n,t,e){return e[0]=n[0]*t.x,e[1]=n[1]*t.x,e[2]=n[2]*t.x,e[3]=n[3]*t.y,e[4]=n[4]*t.y,e[5]=n[5]*t.y,e[6]=n[6]*t.z,e[7]=n[7]*t.z,e[8]=n[8]*t.z,e},C.multiplyByUniformScale=function(n,t,e){return e[0]=n[0]*t,e[1]=n[1]*t,e[2]=n[2]*t,e[3]=n[3]*t,e[4]=n[4]*t,e[5]=n[5]*t,e[6]=n[6]*t,e[7]=n[7]*t,e[8]=n[8]*t,e},C.negate=function(n,t){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t[4]=-n[4],t[5]=-n[5],t[6]=-n[6],t[7]=-n[7],t[8]=-n[8],t},C.transpose=function(n,t){const e=n[0],r=n[3],a=n[6],u=n[1],i=n[4],o=n[7],c=n[2],s=n[5],l=n[8];return t[0]=e,t[1]=r,t[2]=a,t[3]=u,t[4]=i,t[5]=o,t[6]=c,t[7]=s,t[8]=l,t};const R=[1,0,0],q=[2,2,1];function N(n){let t=0;for(let e=0;e<3;++e){const r=n[C.getElementIndex(q[e],R[e])];t+=2*r*r}return Math.sqrt(t)}function U(n,t){const e=a.CesiumMath.EPSILON15;let r=0,u=1;for(let t=0;t<3;++t){const e=Math.abs(n[C.getElementIndex(q[t],R[t])]);e>r&&(u=t,r=e)}let i=1,o=0;const c=R[u],s=q[u];if(Math.abs(n[C.getElementIndex(s,c)])>e){const t=(n[C.getElementIndex(s,s)]-n[C.getElementIndex(c,c)])/2/n[C.getElementIndex(s,c)];let e;e=t<0?-1/(-t+Math.sqrt(1+t*t)):1/(t+Math.sqrt(1+t*t)),i=1/Math.sqrt(1+e*e),o=e*i}return(t=C.clone(C.IDENTITY,t))[C.getElementIndex(c,c)]=t[C.getElementIndex(s,s)]=i,t[C.getElementIndex(s,c)]=o,t[C.getElementIndex(c,s)]=-o,t}const A=new C,I=new C;C.computeEigenDecomposition=function(n,t){const r=a.CesiumMath.EPSILON20;let u=0,i=0;e.defined(t)||(t={});const o=t.unitary=C.clone(C.IDENTITY,t.unitary),c=t.diagonal=C.clone(n,t.diagonal),s=r*function(n){let t=0;for(let e=0;e<9;++e){const r=n[e];t+=r*r}return Math.sqrt(t)}(c);for(;i<10&&N(c)>s;)U(c,A),C.transpose(A,I),C.multiply(c,A,c),C.multiply(I,c,c),C.multiply(o,A,o),++u>2&&(++i,u=0);return t},C.abs=function(n,t){return t[0]=Math.abs(n[0]),t[1]=Math.abs(n[1]),t[2]=Math.abs(n[2]),t[3]=Math.abs(n[3]),t[4]=Math.abs(n[4]),t[5]=Math.abs(n[5]),t[6]=Math.abs(n[6]),t[7]=Math.abs(n[7]),t[8]=Math.abs(n[8]),t},C.determinant=function(n){const t=n[0],e=n[3],r=n[6],a=n[1],u=n[4],i=n[7],o=n[2],c=n[5],s=n[8];return t*(u*s-c*i)+a*(c*r-e*s)+o*(e*i-u*r)},C.inverse=function(n,t){const e=n[0],r=n[1],a=n[2],u=n[3],i=n[4],o=n[5],c=n[6],s=n[7],l=n[8],f=C.determinant(n);t[0]=i*l-s*o,t[1]=s*a-r*l,t[2]=r*o-i*a,t[3]=c*o-u*l,t[4]=e*l-c*a,t[5]=u*a-e*o,t[6]=u*s-c*i,t[7]=c*r-e*s,t[8]=e*i-u*r;const y=1/f;return C.multiplyByScalar(t,y,t)};const T=new C;function k(n,t,r,a,u,i,o,c,s,l,f,y,d,m,h,x){this[0]=e.defaultValue(n,0),this[1]=e.defaultValue(u,0),this[2]=e.defaultValue(s,0),this[3]=e.defaultValue(d,0),this[4]=e.defaultValue(t,0),this[5]=e.defaultValue(i,0),this[6]=e.defaultValue(l,0),this[7]=e.defaultValue(m,0),this[8]=e.defaultValue(r,0),this[9]=e.defaultValue(o,0),this[10]=e.defaultValue(f,0),this[11]=e.defaultValue(h,0),this[12]=e.defaultValue(a,0),this[13]=e.defaultValue(c,0),this[14]=e.defaultValue(y,0),this[15]=e.defaultValue(x,0)}function L(n){return n>0?1:n<0?-1:0}C.inverseTranspose=function(n,t){return C.inverse(C.transpose(n,T),t)},C.equals=function(n,t){return n===t||e.defined(n)&&e.defined(t)&&n[0]===t[0]&&n[1]===t[1]&&n[2]===t[2]&&n[3]===t[3]&&n[4]===t[4]&&n[5]===t[5]&&n[6]===t[6]&&n[7]===t[7]&&n[8]===t[8]},C.equalsEpsilon=function(n,t,r){return r=e.defaultValue(r,0),n===t||e.defined(n)&&e.defined(t)&&Math.abs(n[0]-t[0])<=r&&Math.abs(n[1]-t[1])<=r&&Math.abs(n[2]-t[2])<=r&&Math.abs(n[3]-t[3])<=r&&Math.abs(n[4]-t[4])<=r&&Math.abs(n[5]-t[5])<=r&&Math.abs(n[6]-t[6])<=r&&Math.abs(n[7]-t[7])<=r&&Math.abs(n[8]-t[8])<=r},C.IDENTITY=Object.freeze(new C(1,0,0,0,1,0,0,0,1)),C.ZERO=Object.freeze(new C(0,0,0,0,0,0,0,0,0)),C.COLUMN0ROW0=0,C.COLUMN0ROW1=1,C.COLUMN0ROW2=2,C.COLUMN1ROW0=3,C.COLUMN1ROW1=4,C.COLUMN1ROW2=5,C.COLUMN2ROW0=6,C.COLUMN2ROW1=7,C.COLUMN2ROW2=8,Object.defineProperties(C.prototype,{length:{get:function(){return C.packedLength}}}),C.prototype.clone=function(n){return C.clone(this,n)},C.prototype.equals=function(n){return C.equals(this,n)},C.equalsArray=function(n,t,e){return n[0]===t[e]&&n[1]===t[e+1]&&n[2]===t[e+2]&&n[3]===t[e+3]&&n[4]===t[e+4]&&n[5]===t[e+5]&&n[6]===t[e+6]&&n[7]===t[e+7]&&n[8]===t[e+8]},C.prototype.equalsEpsilon=function(n,t){return C.equalsEpsilon(this,n,t)},C.prototype.toString=function(){return`(${this[0]}, ${this[3]}, ${this[6]})\n(${this[1]}, ${this[4]}, ${this[7]})\n(${this[2]}, ${this[5]}, ${this[8]})`},k.packedLength=16,k.computeReflection=function(n,t,r,a,u){return e.defined(u)||(u=new k),u[0]=1-2*n*n,u[1]=-2*n*t,u[2]=-2*n*r,u[3]=0,u[4]=-2*t*n,u[5]=1-2*t*t,u[6]=-2*t*r,u[7]=0,u[8]=-2*r*n,u[9]=-2*r*t,u[10]=1-2*r*r,u[11]=0,u[12]=-2*a*n,u[13]=-2*a*t,u[14]=-2*a*r,u[15]=1,u},k.computeObliquePerspective=function(n,t,e){const r=k.inverse(e,new k),a=k.inverseTranspose(t,new k),u=k.multiplyByVector(a,n,new d),i=new d(L(u.x),L(u.y),1,1),o=k.multiplyByVector(r,i,new d),c=2/d.dot(u,o),s=[u.x*c,u.y*c,u.z*c+1,u.w*c];return new k(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],s[0],s[1],s[2],s[3],e[3],e[7],e[11],e[15])},k.pack=function(n,t,r){return r=e.defaultValue(r,0),t[r++]=n[0],t[r++]=n[1],t[r++]=n[2],t[r++]=n[3],t[r++]=n[4],t[r++]=n[5],t[r++]=n[6],t[r++]=n[7],t[r++]=n[8],t[r++]=n[9],t[r++]=n[10],t[r++]=n[11],t[r++]=n[12],t[r++]=n[13],t[r++]=n[14],t[r]=n[15],t},k.unpack=function(n,t,r){return t=e.defaultValue(t,0),e.defined(r)||(r=new k),r[0]=n[t++],r[1]=n[t++],r[2]=n[t++],r[3]=n[t++],r[4]=n[t++],r[5]=n[t++],r[6]=n[t++],r[7]=n[t++],r[8]=n[t++],r[9]=n[t++],r[10]=n[t++],r[11]=n[t++],r[12]=n[t++],r[13]=n[t++],r[14]=n[t++],r[15]=n[t],r},k.packArray=function(n,t){const r=n.length,a=16*r;e.defined(t)?(Array.isArray(t)||t.length===a)&&t.length!==a&&(t.length=a):t=new Array(a);for(let e=0;e<r;++e)k.pack(n[e],t,16*e);return t},k.unpackArray=function(n,t){const r=n.length;e.defined(t)?t.length=r/16:t=new Array(r/16);for(let e=0;e<r;e+=16){const r=e/16;t[r]=k.unpack(n,e,t[r])}return t},k.clone=function(n,t){if(e.defined(n))return e.defined(t)?(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t):new k(n[0],n[4],n[8],n[12],n[1],n[5],n[9],n[13],n[2],n[6],n[10],n[14],n[3],n[7],n[11],n[15])},k.fromArray=k.unpack,k.fromColumnMajorArray=function(n,t){return k.clone(n,t)},k.fromRowMajorArray=function(n,t){return e.defined(t)?(t[0]=n[0],t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=n[1],t[5]=n[5],t[6]=n[9],t[7]=n[13],t[8]=n[2],t[9]=n[6],t[10]=n[10],t[11]=n[14],t[12]=n[3],t[13]=n[7],t[14]=n[11],t[15]=n[15],t):new k(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15])},k.fromRotationTranslation=function(n,t,r){return t=e.defaultValue(t,u.Cartesian3.ZERO),e.defined(r)?(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=0,r[4]=n[3],r[5]=n[4],r[6]=n[5],r[7]=0,r[8]=n[6],r[9]=n[7],r[10]=n[8],r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,r):new k(n[0],n[3],n[6],t.x,n[1],n[4],n[7],t.y,n[2],n[5],n[8],t.z,0,0,0,1)},k.fromTranslationQuaternionRotationScale=function(n,t,r,a){e.defined(a)||(a=new k);const u=r.x,i=r.y,o=r.z,c=t.x*t.x,s=t.x*t.y,l=t.x*t.z,f=t.x*t.w,y=t.y*t.y,d=t.y*t.z,m=t.y*t.w,h=t.z*t.z,x=t.z*t.w,w=t.w*t.w,p=c-y-h+w,z=2*(s-x),M=2*(l+m),C=2*(s+x),g=-c+y-h+w,b=2*(d-f),O=2*(l-m),E=2*(d+f),V=-c-y+h+w;return a[0]=p*u,a[1]=C*u,a[2]=O*u,a[3]=0,a[4]=z*i,a[5]=g*i,a[6]=E*i,a[7]=0,a[8]=M*o,a[9]=b*o,a[10]=V*o,a[11]=0,a[12]=n.x,a[13]=n.y,a[14]=n.z,a[15]=1,a},k.fromTranslationRotationScale=function(n,t){return k.fromTranslationQuaternionRotationScale(n.translation,n.rotation,n.scale,t)},k.fromTranslation=function(n,t){return k.fromRotationTranslation(C.IDENTITY,n,t)},k.fromScale=function(n,t){return e.defined(t)?(t[0]=n.x,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n.y,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n.z,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t):new k(n.x,0,0,0,0,n.y,0,0,0,0,n.z,0,0,0,0,1)},k.fromUniformScale=function(n,t){return e.defined(t)?(t[0]=n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t):new k(n,0,0,0,0,n,0,0,0,0,n,0,0,0,0,1)},k.fromRotation=function(n,t){return e.defined(t)||(t=new k),t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=0,t[4]=n[3],t[5]=n[4],t[6]=n[5],t[7]=0,t[8]=n[6],t[9]=n[7],t[10]=n[8],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t};const $=new u.Cartesian3,W=new u.Cartesian3,B=new u.Cartesian3;k.fromCamera=function(n,t){const r=n.position,a=n.direction,i=n.up;u.Cartesian3.normalize(a,$),u.Cartesian3.normalize(u.Cartesian3.cross($,i,W),W),u.Cartesian3.normalize(u.Cartesian3.cross(W,$,B),B);const o=W.x,c=W.y,s=W.z,l=$.x,f=$.y,y=$.z,d=B.x,m=B.y,h=B.z,x=r.x,w=r.y,p=r.z,z=o*-x+c*-w+s*-p,M=d*-x+m*-w+h*-p,C=l*x+f*w+y*p;return e.defined(t)?(t[0]=o,t[1]=d,t[2]=-l,t[3]=0,t[4]=c,t[5]=m,t[6]=-f,t[7]=0,t[8]=s,t[9]=h,t[10]=-y,t[11]=0,t[12]=z,t[13]=M,t[14]=C,t[15]=1,t):new k(o,c,s,z,d,m,h,M,-l,-f,-y,C,0,0,0,1)},k.computePerspectiveFieldOfView=function(n,t,e,r,a){const u=1/Math.tan(.5*n),i=u/t,o=(r+e)/(e-r),c=2*r*e/(e-r);return a[0]=i,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=u,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=o,a[11]=-1,a[12]=0,a[13]=0,a[14]=c,a[15]=0,a},k.computeOrthographicOffCenter=function(n,t,e,r,a,u,i){let o=1/(t-n),c=1/(r-e),s=1/(u-a);const l=-(t+n)*o,f=-(r+e)*c,y=-(u+a)*s;return o*=2,c*=2,s*=-2,i[0]=o,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=c,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=s,i[11]=0,i[12]=l,i[13]=f,i[14]=y,i[15]=1,i},k.computePerspectiveOffCenter=function(n,t,e,r,a,u,i){const o=2*a/(t-n),c=2*a/(r-e),s=(t+n)/(t-n),l=(r+e)/(r-e),f=-(u+a)/(u-a),y=-2*u*a/(u-a);return i[0]=o,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=c,i[6]=0,i[7]=0,i[8]=s,i[9]=l,i[10]=f,i[11]=-1,i[12]=0,i[13]=0,i[14]=y,i[15]=0,i},k.computeInfinitePerspectiveOffCenter=function(n,t,e,r,a,u){const i=2*a/(t-n),o=2*a/(r-e),c=(t+n)/(t-n),s=(r+e)/(r-e),l=-2*a;return u[0]=i,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=o,u[6]=0,u[7]=0,u[8]=c,u[9]=s,u[10]=-1,u[11]=-1,u[12]=0,u[13]=0,u[14]=l,u[15]=0,u},k.computeViewportTransformation=function(n,t,r,a){e.defined(a)||(a=new k),n=e.defaultValue(n,e.defaultValue.EMPTY_OBJECT);const u=e.defaultValue(n.x,0),i=e.defaultValue(n.y,0),o=e.defaultValue(n.width,0),c=e.defaultValue(n.height,0);t=e.defaultValue(t,0);const s=.5*o,l=.5*c,f=.5*((r=e.defaultValue(r,1))-t),y=s,d=l,m=f,h=u+s,x=i+l,w=t+f;return a[0]=y,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=d,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=m,a[11]=0,a[12]=h,a[13]=x,a[14]=w,a[15]=1,a},k.computeView=function(n,t,e,r,a){return a[0]=r.x,a[1]=e.x,a[2]=-t.x,a[3]=0,a[4]=r.y,a[5]=e.y,a[6]=-t.y,a[7]=0,a[8]=r.z,a[9]=e.z,a[10]=-t.z,a[11]=0,a[12]=-u.Cartesian3.dot(r,n),a[13]=-u.Cartesian3.dot(e,n),a[14]=u.Cartesian3.dot(t,n),a[15]=1,a},k.toArray=function(n,t){return e.defined(t)?(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t):[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15]]},k.getElementIndex=function(n,t){return 4*n+t},k.getColumn=function(n,t,e){const r=4*t,a=n[r],u=n[r+1],i=n[r+2],o=n[r+3];return e.x=a,e.y=u,e.z=i,e.w=o,e},k.setColumn=function(n,t,e,r){const a=4*t;return(r=k.clone(n,r))[a]=e.x,r[a+1]=e.y,r[a+2]=e.z,r[a+3]=e.w,r},k.getRow=function(n,t,e){const r=n[t],a=n[t+4],u=n[t+8],i=n[t+12];return e.x=r,e.y=a,e.z=u,e.w=i,e},k.setRow=function(n,t,e,r){return(r=k.clone(n,r))[t]=e.x,r[t+4]=e.y,r[t+8]=e.z,r[t+12]=e.w,r},k.setTranslation=function(n,t,e){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=t.x,e[13]=t.y,e[14]=t.z,e[15]=n[15],e};const j=new u.Cartesian3;k.setScale=function(n,t,e){const r=k.getScale(n,j),a=t.x/r.x,u=t.y/r.y,i=t.z/r.z;return e[0]=n[0]*a,e[1]=n[1]*a,e[2]=n[2]*a,e[3]=n[3],e[4]=n[4]*u,e[5]=n[5]*u,e[6]=n[6]*u,e[7]=n[7],e[8]=n[8]*i,e[9]=n[9]*i,e[10]=n[10]*i,e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e};const v=new u.Cartesian3;k.setUniformScale=function(n,t,e){const r=k.getScale(n,v),a=t/r.x,u=t/r.y,i=t/r.z;return e[0]=n[0]*a,e[1]=n[1]*a,e[2]=n[2]*a,e[3]=n[3],e[4]=n[4]*u,e[5]=n[5]*u,e[6]=n[6]*u,e[7]=n[7],e[8]=n[8]*i,e[9]=n[9]*i,e[10]=n[10]*i,e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e};const _=new u.Cartesian3;k.getScale=function(n,t){return t.x=u.Cartesian3.magnitude(u.Cartesian3.fromElements(n[0],n[1],n[2],_)),t.y=u.Cartesian3.magnitude(u.Cartesian3.fromElements(n[4],n[5],n[6],_)),t.z=u.Cartesian3.magnitude(u.Cartesian3.fromElements(n[8],n[9],n[10],_)),t};const P=new u.Cartesian3;k.getMaximumScale=function(n){return k.getScale(n,P),u.Cartesian3.maximumComponent(P)};const Y=new u.Cartesian3;k.setRotation=function(n,t,e){const r=k.getScale(n,Y);return e[0]=t[0]*r.x,e[1]=t[1]*r.x,e[2]=t[2]*r.x,e[3]=n[3],e[4]=t[3]*r.y,e[5]=t[4]*r.y,e[6]=t[5]*r.y,e[7]=n[7],e[8]=t[6]*r.z,e[9]=t[7]*r.z,e[10]=t[8]*r.z,e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e};const Z=new u.Cartesian3;k.getRotation=function(n,t){const e=k.getScale(n,Z);return t[0]=n[0]/e.x,t[1]=n[1]/e.x,t[2]=n[2]/e.x,t[3]=n[4]/e.y,t[4]=n[5]/e.y,t[5]=n[6]/e.y,t[6]=n[8]/e.z,t[7]=n[9]/e.z,t[8]=n[10]/e.z,t},k.multiply=function(n,t,e){const r=n[0],a=n[1],u=n[2],i=n[3],o=n[4],c=n[5],s=n[6],l=n[7],f=n[8],y=n[9],d=n[10],m=n[11],h=n[12],x=n[13],w=n[14],p=n[15],z=t[0],M=t[1],C=t[2],g=t[3],b=t[4],O=t[5],E=t[6],V=t[7],S=t[8],R=t[9],q=t[10],N=t[11],U=t[12],A=t[13],I=t[14],T=t[15],k=r*z+o*M+f*C+h*g,L=a*z+c*M+y*C+x*g,$=u*z+s*M+d*C+w*g,W=i*z+l*M+m*C+p*g,B=r*b+o*O+f*E+h*V,j=a*b+c*O+y*E+x*V,v=u*b+s*O+d*E+w*V,_=i*b+l*O+m*E+p*V,P=r*S+o*R+f*q+h*N,Y=a*S+c*R+y*q+x*N,Z=u*S+s*R+d*q+w*N,D=i*S+l*R+m*q+p*N,X=r*U+o*A+f*I+h*T,F=a*U+c*A+y*I+x*T,Q=u*U+s*A+d*I+w*T,H=i*U+l*A+m*I+p*T;return e[0]=k,e[1]=L,e[2]=$,e[3]=W,e[4]=B,e[5]=j,e[6]=v,e[7]=_,e[8]=P,e[9]=Y,e[10]=Z,e[11]=D,e[12]=X,e[13]=F,e[14]=Q,e[15]=H,e},k.add=function(n,t,e){return e[0]=n[0]+t[0],e[1]=n[1]+t[1],e[2]=n[2]+t[2],e[3]=n[3]+t[3],e[4]=n[4]+t[4],e[5]=n[5]+t[5],e[6]=n[6]+t[6],e[7]=n[7]+t[7],e[8]=n[8]+t[8],e[9]=n[9]+t[9],e[10]=n[10]+t[10],e[11]=n[11]+t[11],e[12]=n[12]+t[12],e[13]=n[13]+t[13],e[14]=n[14]+t[14],e[15]=n[15]+t[15],e},k.subtract=function(n,t,e){return e[0]=n[0]-t[0],e[1]=n[1]-t[1],e[2]=n[2]-t[2],e[3]=n[3]-t[3],e[4]=n[4]-t[4],e[5]=n[5]-t[5],e[6]=n[6]-t[6],e[7]=n[7]-t[7],e[8]=n[8]-t[8],e[9]=n[9]-t[9],e[10]=n[10]-t[10],e[11]=n[11]-t[11],e[12]=n[12]-t[12],e[13]=n[13]-t[13],e[14]=n[14]-t[14],e[15]=n[15]-t[15],e},k.multiplyTransformation=function(n,t,e){const r=n[0],a=n[1],u=n[2],i=n[4],o=n[5],c=n[6],s=n[8],l=n[9],f=n[10],y=n[12],d=n[13],m=n[14],h=t[0],x=t[1],w=t[2],p=t[4],z=t[5],M=t[6],C=t[8],g=t[9],b=t[10],O=t[12],E=t[13],V=t[14],S=r*h+i*x+s*w,R=a*h+o*x+l*w,q=u*h+c*x+f*w,N=r*p+i*z+s*M,U=a*p+o*z+l*M,A=u*p+c*z+f*M,I=r*C+i*g+s*b,T=a*C+o*g+l*b,k=u*C+c*g+f*b,L=r*O+i*E+s*V+y,$=a*O+o*E+l*V+d,W=u*O+c*E+f*V+m;return e[0]=S,e[1]=R,e[2]=q,e[3]=0,e[4]=N,e[5]=U,e[6]=A,e[7]=0,e[8]=I,e[9]=T,e[10]=k,e[11]=0,e[12]=L,e[13]=$,e[14]=W,e[15]=1,e},k.multiplyByMatrix3=function(n,t,e){const r=n[0],a=n[1],u=n[2],i=n[4],o=n[5],c=n[6],s=n[8],l=n[9],f=n[10],y=t[0],d=t[1],m=t[2],h=t[3],x=t[4],w=t[5],p=t[6],z=t[7],M=t[8],C=r*y+i*d+s*m,g=a*y+o*d+l*m,b=u*y+c*d+f*m,O=r*h+i*x+s*w,E=a*h+o*x+l*w,V=u*h+c*x+f*w,S=r*p+i*z+s*M,R=a*p+o*z+l*M,q=u*p+c*z+f*M;return e[0]=C,e[1]=g,e[2]=b,e[3]=0,e[4]=O,e[5]=E,e[6]=V,e[7]=0,e[8]=S,e[9]=R,e[10]=q,e[11]=0,e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e},k.multiplyByTranslation=function(n,t,e){const r=t.x,a=t.y,u=t.z,i=r*n[0]+a*n[4]+u*n[8]+n[12],o=r*n[1]+a*n[5]+u*n[9]+n[13],c=r*n[2]+a*n[6]+u*n[10]+n[14];return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=i,e[13]=o,e[14]=c,e[15]=n[15],e},k.multiplyByScale=function(n,t,e){const r=t.x,a=t.y,u=t.z;return 1===r&&1===a&&1===u?k.clone(n,e):(e[0]=r*n[0],e[1]=r*n[1],e[2]=r*n[2],e[3]=n[3],e[4]=a*n[4],e[5]=a*n[5],e[6]=a*n[6],e[7]=n[7],e[8]=u*n[8],e[9]=u*n[9],e[10]=u*n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e)},k.multiplyByUniformScale=function(n,t,e){return e[0]=n[0]*t,e[1]=n[1]*t,e[2]=n[2]*t,e[3]=n[3],e[4]=n[4]*t,e[5]=n[5]*t,e[6]=n[6]*t,e[7]=n[7],e[8]=n[8]*t,e[9]=n[9]*t,e[10]=n[10]*t,e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e},k.multiplyByVector=function(n,t,e){const r=t.x,a=t.y,u=t.z,i=t.w,o=n[0]*r+n[4]*a+n[8]*u+n[12]*i,c=n[1]*r+n[5]*a+n[9]*u+n[13]*i,s=n[2]*r+n[6]*a+n[10]*u+n[14]*i,l=n[3]*r+n[7]*a+n[11]*u+n[15]*i;return e.x=o,e.y=c,e.z=s,e.w=l,e},k.multiplyByPointAsVector=function(n,t,e){const r=t.x,a=t.y,u=t.z,i=n[0]*r+n[4]*a+n[8]*u,o=n[1]*r+n[5]*a+n[9]*u,c=n[2]*r+n[6]*a+n[10]*u;return e.x=i,e.y=o,e.z=c,e},k.multiplyByPoint=function(n,t,e){const r=t.x,a=t.y,u=t.z,i=n[0]*r+n[4]*a+n[8]*u+n[12],o=n[1]*r+n[5]*a+n[9]*u+n[13],c=n[2]*r+n[6]*a+n[10]*u+n[14];return e.x=i,e.y=o,e.z=c,e},k.multiplyByScalar=function(n,t,e){return e[0]=n[0]*t,e[1]=n[1]*t,e[2]=n[2]*t,e[3]=n[3]*t,e[4]=n[4]*t,e[5]=n[5]*t,e[6]=n[6]*t,e[7]=n[7]*t,e[8]=n[8]*t,e[9]=n[9]*t,e[10]=n[10]*t,e[11]=n[11]*t,e[12]=n[12]*t,e[13]=n[13]*t,e[14]=n[14]*t,e[15]=n[15]*t,e},k.negate=function(n,t){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t[4]=-n[4],t[5]=-n[5],t[6]=-n[6],t[7]=-n[7],t[8]=-n[8],t[9]=-n[9],t[10]=-n[10],t[11]=-n[11],t[12]=-n[12],t[13]=-n[13],t[14]=-n[14],t[15]=-n[15],t},k.transpose=function(n,t){const e=n[1],r=n[2],a=n[3],u=n[6],i=n[7],o=n[11];return t[0]=n[0],t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=e,t[5]=n[5],t[6]=n[9],t[7]=n[13],t[8]=r,t[9]=u,t[10]=n[10],t[11]=n[14],t[12]=a,t[13]=i,t[14]=o,t[15]=n[15],t},k.abs=function(n,t){return t[0]=Math.abs(n[0]),t[1]=Math.abs(n[1]),t[2]=Math.abs(n[2]),t[3]=Math.abs(n[3]),t[4]=Math.abs(n[4]),t[5]=Math.abs(n[5]),t[6]=Math.abs(n[6]),t[7]=Math.abs(n[7]),t[8]=Math.abs(n[8]),t[9]=Math.abs(n[9]),t[10]=Math.abs(n[10]),t[11]=Math.abs(n[11]),t[12]=Math.abs(n[12]),t[13]=Math.abs(n[13]),t[14]=Math.abs(n[14]),t[15]=Math.abs(n[15]),t},k.equals=function(n,t){return n===t||e.defined(n)&&e.defined(t)&&n[12]===t[12]&&n[13]===t[13]&&n[14]===t[14]&&n[0]===t[0]&&n[1]===t[1]&&n[2]===t[2]&&n[4]===t[4]&&n[5]===t[5]&&n[6]===t[6]&&n[8]===t[8]&&n[9]===t[9]&&n[10]===t[10]&&n[3]===t[3]&&n[7]===t[7]&&n[11]===t[11]&&n[15]===t[15]},k.equalsEpsilon=function(n,t,r){return r=e.defaultValue(r,0),n===t||e.defined(n)&&e.defined(t)&&Math.abs(n[0]-t[0])<=r&&Math.abs(n[1]-t[1])<=r&&Math.abs(n[2]-t[2])<=r&&Math.abs(n[3]-t[3])<=r&&Math.abs(n[4]-t[4])<=r&&Math.abs(n[5]-t[5])<=r&&Math.abs(n[6]-t[6])<=r&&Math.abs(n[7]-t[7])<=r&&Math.abs(n[8]-t[8])<=r&&Math.abs(n[9]-t[9])<=r&&Math.abs(n[10]-t[10])<=r&&Math.abs(n[11]-t[11])<=r&&Math.abs(n[12]-t[12])<=r&&Math.abs(n[13]-t[13])<=r&&Math.abs(n[14]-t[14])<=r&&Math.abs(n[15]-t[15])<=r},k.getTranslation=function(n,t){return t.x=n[12],t.y=n[13],t.z=n[14],t},k.getMatrix3=function(n,t){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[4],t[4]=n[5],t[5]=n[6],t[6]=n[8],t[7]=n[9],t[8]=n[10],t};const D=new C,X=new C,F=new d,Q=new d(0,0,0,1);k.inverse=function(n,t){const e=n[0],r=n[4],u=n[8],o=n[12],c=n[1],s=n[5],l=n[9],f=n[13],y=n[2],m=n[6],h=n[10],x=n[14],w=n[3],p=n[7],z=n[11],M=n[15];let g=h*M,b=x*z,O=m*M,E=x*p,V=m*z,S=h*p,R=y*M,q=x*w,N=y*z,U=h*w,A=y*p,I=m*w;const T=g*s+E*l+V*f-(b*s+O*l+S*f),L=b*c+R*l+U*f-(g*c+q*l+N*f),$=O*c+q*s+A*f-(E*c+R*s+I*f),W=S*c+N*s+I*l-(V*c+U*s+A*l),B=b*r+O*u+S*o-(g*r+E*u+V*o),j=g*e+q*u+N*o-(b*e+R*u+U*o),v=E*e+R*r+I*o-(O*e+q*r+A*o),_=V*e+U*r+A*u-(S*e+N*r+I*u);g=u*f,b=o*l,O=r*f,E=o*s,V=r*l,S=u*s,R=e*f,q=o*c,N=e*l,U=u*c,A=e*s,I=r*c;const P=g*p+E*z+V*M-(b*p+O*z+S*M),Y=b*w+R*z+U*M-(g*w+q*z+N*M),Z=O*w+q*p+A*M-(E*w+R*p+I*M),H=S*w+N*p+I*z-(V*w+U*p+A*z),J=O*h+S*x+b*m-(V*x+g*m+E*h),G=N*x+g*y+q*h-(R*h+U*x+b*y),K=R*m+I*x+E*y-(A*x+O*y+q*m),nn=A*h+V*y+U*m-(N*m+I*h+S*y);let tn=e*T+r*L+u*$+o*W;if(Math.abs(tn)<a.CesiumMath.EPSILON21){if(C.equalsEpsilon(k.getMatrix3(n,D),X,a.CesiumMath.EPSILON7)&&d.equals(k.getRow(n,3,F),Q))return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=0,t[11]=0,t[12]=-n[12],t[13]=-n[13],t[14]=-n[14],t[15]=1,t;throw new i.RuntimeError("matrix is not invertible because its determinate is zero.")}return tn=1/tn,t[0]=T*tn,t[1]=L*tn,t[2]=$*tn,t[3]=W*tn,t[4]=B*tn,t[5]=j*tn,t[6]=v*tn,t[7]=_*tn,t[8]=P*tn,t[9]=Y*tn,t[10]=Z*tn,t[11]=H*tn,t[12]=J*tn,t[13]=G*tn,t[14]=K*tn,t[15]=nn*tn,t},k.inverseTransformation=function(n,t){const e=n[0],r=n[1],a=n[2],u=n[4],i=n[5],o=n[6],c=n[8],s=n[9],l=n[10],f=n[12],y=n[13],d=n[14],m=-e*f-r*y-a*d,h=-u*f-i*y-o*d,x=-c*f-s*y-l*d;return t[0]=e,t[1]=u,t[2]=c,t[3]=0,t[4]=r,t[5]=i,t[6]=s,t[7]=0,t[8]=a,t[9]=o,t[10]=l,t[11]=0,t[12]=m,t[13]=h,t[14]=x,t[15]=1,t};const H=new k;k.inverseTranspose=function(n,t){return k.inverse(k.transpose(n,H),t)},k.IDENTITY=Object.freeze(new k(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)),k.ZERO=Object.freeze(new k(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)),k.COLUMN0ROW0=0,k.COLUMN0ROW1=1,k.COLUMN0ROW2=2,k.COLUMN0ROW3=3,k.COLUMN1ROW0=4,k.COLUMN1ROW1=5,k.COLUMN1ROW2=6,k.COLUMN1ROW3=7,k.COLUMN2ROW0=8,k.COLUMN2ROW1=9,k.COLUMN2ROW2=10,k.COLUMN2ROW3=11,k.COLUMN3ROW0=12,k.COLUMN3ROW1=13,k.COLUMN3ROW2=14,k.COLUMN3ROW3=15,Object.defineProperties(k.prototype,{length:{get:function(){return k.packedLength}}}),k.prototype.clone=function(n){return k.clone(this,n)},k.prototype.equals=function(n){return k.equals(this,n)},k.equalsArray=function(n,t,e){return n[0]===t[e]&&n[1]===t[e+1]&&n[2]===t[e+2]&&n[3]===t[e+3]&&n[4]===t[e+4]&&n[5]===t[e+5]&&n[6]===t[e+6]&&n[7]===t[e+7]&&n[8]===t[e+8]&&n[9]===t[e+9]&&n[10]===t[e+10]&&n[11]===t[e+11]&&n[12]===t[e+12]&&n[13]===t[e+13]&&n[14]===t[e+14]&&n[15]===t[e+15]},k.prototype.equalsEpsilon=function(n,t){return k.equalsEpsilon(this,n,t)},k.prototype.toString=function(){return`(${this[0]}, ${this[4]}, ${this[8]}, ${this[12]})\n(${this[1]}, ${this[5]}, ${this[9]}, ${this[13]})\n(${this[2]}, ${this[6]}, ${this[10]}, ${this[14]})\n(${this[3]}, ${this[7]}, ${this[11]}, ${this[15]})`},n.Cartesian2=o,n.Cartesian4=d,n.Matrix3=C,n.Matrix4=k}));
